<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>BlakeOL Dashboard</title>
  <link rel="stylesheet" href="styles.css">
  <script src="https://cdn.socket.io/4.5.1/socket.io.min.js"></script>
</head>
<body>
  <div class="layout">
    <!-- Sidebar -->
    <div class="sidebar">
      <div class="user-info">
        <h2>Welcome, <span id="username-display"></span>!</h2>
        <button id="logout-button">Logout</button>
      </div>

      <div class="status-section">
        <h3>Status</h3>
        <select id="status" onchange="updateStatus(this.value)">
          <option value="Online">Online</option>
          <option value="Away">Away</option>
          <option value="Do Not Disturb">Do Not Disturb</option>
        </select>
      </div>

      <div class="search-contacts">
        <h3>Search for Contacts</h3>
        <input type="text" id="search-input" placeholder="Search by username">
        <ul id="search-results"></ul> 
      </div>

      <div class="contacts-list-section">
        <h3>Contacts</h3>
        <ul id="contacts-list"></ul>
        <button id="start-chat-button">Start Chat</button>
      </div>
    </div>

    <!-- Main Content Area -->
    <div class="main-content">
      <h3>Active Chats</h3>
      <div id="chats-container" class="chats-container">
        <!-- Dynamic chat boxes will be appended here -->
      </div>
    </div>
  </div>

  <!-- Audio notifications -->
  <audio id="dashboard_startup_sound" src="./assets/sounds/windows_95_startup.mp3" preload="auto"></audio>
  <audio id="message_sent_sound" src="./assets/sounds/mail_sent.mp3" preload="auto"></audio>
  <audio id="message_receive_sound" src="./assets/sounds/aol_message_received_one.mp3" preload="auto"></audio>

  <!-- Include app.js -->
  <script src="app.js"></script>
  <script>
    // Play dashboard startup sound on first user interaction
    document.addEventListener('DOMContentLoaded', function () {
      function playDashboardStartupSound() {
        const dashboardSound = document.getElementById('dashboard_startup_sound');
        dashboardSound.play().catch(function(error) {
          console.log('Autoplay prevented:', error);
        });
        document.removeEventListener('click', playDashboardStartupSound);
      }
      document.addEventListener('click', playDashboardStartupSound, { once: true });
    });
  </script>
</body>
</html>
